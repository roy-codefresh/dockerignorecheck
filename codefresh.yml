version: '1.0'
steps:
  build:
    title: Building Docker Image
    type: build
    image_name: roycodefresh/push
    tag: latest
    working_directory: ./
    dockerfile: Dockerfile
  push_to_default:
    title: Pushing Image To Docker-Hub
    type: push
    candidate: ${build}
    image_name: roycodefresh/push
    tag: docker
  push_to_registry:
    title: Pushing Image To Pre-Configured Registry
    type: push
    candidate: ${build}
    registry: bintray
    image_name: roycodefresh/push
    tag: bintray
  push_non_cf_image:
    title: Pushing Image That Wasn't Builded On Codefresh
    type: push
    candidate: 'alpine'
    image_name: roycodefresh/alpine
    tag: from-cf
  
